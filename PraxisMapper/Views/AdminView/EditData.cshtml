@model PraxisMapper.Models.EditData
<script type="text/javascript">
function setGlobals()
{

}

function setPlayerKeys()
{
    playerSelectedKey.length = 0;
    fetch('../Data/GetAllPlayerData/' + currentPlayerKey.value)
    .then(response => response.text())
    .then(data => {
        var lines = data.split('\r\n'); 
        var blank = document.createElement('option'); 
        blank.text = "";
        playerSelectedKey.add(blank);
        lines.forEach(l => 
            {
                var vals = l.split('|'); 
                if (vals.length == 3){
                var newOpt =  document.createElement('option'); 
                newOpt.text = vals[1]; 
                newOpt.value = vals[2]; 
                playerSelectedKey.add(newOpt);
                }
            });
    });
}


</script>
Edit Data<br /><br />

Globals:
<br />
@Html.DropDownListFor(e => e.currentGlobalKey, Model.globalDataKeys, null, new { @onchange="globalKey.value = this.options[this.selectedIndex].text; globalValue.value = this.value "})<br />
<input type="text" id="globalKey" /><input type="text" id="globalValue" />
<input type="button" id="submitGlobal" onclick="fetch('../Data/SetGlobalData/' + globalKey.value + '/' + globalValue.value + '@Model.accessKey');" value="Save Global Value" />
<br /><br />
Player Data:
<br />
PlayerIds:
@Html.DropDownListFor(e => e.currentPlayerKey, Model.playerKeys, null, new { @onchange="setPlayerKeys()"} );<br />
Player Keys:
<select id="playerSelectedKey" name="playerSelectedKey" onchange="{playerKey.value = this.options[this.selectedIndex].text; playerValue.value = this.value;}"></select>
<input type="text" id="playerKey" /><input type="text" id="playerValue" />
<input type="button" id="submitPlayer" onclick="fetch('../Data/SetPlayerData/' + currentPlayerKey.value + '/' + playerKey.value + '/' + playerValue.value + '@Model.accessKey');" value="Save Player Value" /> 
<br /><br />